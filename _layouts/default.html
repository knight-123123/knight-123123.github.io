<!doctype html>
<html lang="zh-CN">
  {% include head.html %}
  <body>
    <a class="skip-link" href="#main-content">跳到正文</a>
    {% include navigation.html %}

    <main id="main-content" class="page-content">
      <div class="container {% if page.url == '/' %}home-container{% endif %}">
        {{ content }}
      </div>
    </main>

    {% include footer.html %}

    <script>
      // 滚动效果
      const header = document.getElementById("site-header");
      const backToTopButton = document.getElementById("back-to-top");
      const navToggle = document.getElementById("nav-toggle");
      const navToggleLabel = document.querySelector(".nav-toggle-label");
      
      window.onscroll = function() {
        // 头部滚动阴影效果
        if (document.body.scrollTop > 50 || document.documentElement.scrollTop > 50) {
          header.classList.add("scrolled");
          backToTopButton.style.display = "block";
        } else {
          header.classList.remove("scrolled");
          backToTopButton.style.display = "none";
        }
      };
      
      // 回到顶部按钮
      backToTopButton.addEventListener("click", function() {
        document.body.scrollTop = 0; // For Safari
        document.documentElement.scrollTop = 0; // For Chrome, Firefox, IE and Opera
      });

      if (navToggle && navToggleLabel) {
        function syncExpanded() {
          navToggleLabel.setAttribute("aria-expanded", navToggle.checked ? "true" : "false");
        }
        navToggle.addEventListener("change", syncExpanded);
        syncExpanded();
      }
    </script>
  </body>
</html>